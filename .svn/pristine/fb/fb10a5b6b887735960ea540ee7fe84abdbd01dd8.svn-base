//
//  MyTest.m
//  GoAppTest
//
//  Created by pengyucheng on 14-2-18.
//  Copyright (c) 2014å¹´ sqliteTest. All rights reserved.
//

#import <GHUnitIOS/GHUnit.h>

#import "DataFactory.h"
#import "SecretModel.h"
#import "TestModel.h"
@interface MyTest : GHTestCase{

}

@end

@implementation MyTest

- (void)testStrings {
    NSString *string1 = @"a string";
    GHTestLog(@"I can log to the GHUnit test console: %@", string1);
    
    // Assert string1 is not NULL, with no custom error description
//    GHAssertNotNULL(string1, nil);
    
    // Assert equal objects, add custom error description
    NSString *string2 = @"a string";
    GHAssertEqualObjects(string1, string2, @"A custom error message. string1 should be equal to: %@.", string2);
}



-(void)testInsertSecret
{
    if ([[DataFactory shardDataFactory] IsDataBase]) {
//        [[DataFactory shardDataFactory] CreateDataBase];
//        [[DataFactory shardDataFactory] CreateTable];
    }
    
    SecretModel *secret1 = [[SecretModel alloc] init];
    secret1.fileName = @"test221.jpg";
    secret1.filePath = @"user/admin/download/test2.jpg";
    secret1.fileType = @"jpg";
    secret1.makeTime = @"2014-04-05";
    secret1.logName = @"2014-014-05";
    [[DataFactory shardDataFactory] insertToDB:secret1 Classtype:secret];
}

-(void)testUpdate
{
    SecretModel *secret1 = [[SecretModel alloc] init];
    secret1.rowid = 7;
    secret1.fileName = @"test221.jpg";
    secret1.filePath = @"user/admin/download/test2.jpg";
    secret1.fileType = @"jpg";
    secret1.makeTime = @"2014-04-05";
    secret1.logName = @"2014-04-05";
    [[DataFactory shardDataFactory] updateToDB:secret1 Classtype:secret];

}
-(void)testSearch
{
    NSMutableDictionary *dic = [NSMutableDictionary dictionary];
    [dic setObject:@"jpg" forKey:@"fileType"];
    [[DataFactory shardDataFactory] searchWhere:dic orderBy:nil offset:0 count:20 Classtype:secret callback:^(NSArray *result) {
        GHTestLog(@"%@",result); }];
}

@end
